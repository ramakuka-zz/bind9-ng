// Generated by Chef for <%= node['fqdn'] %>
// Local modifications will be overwritten.

//
// Do any local configuration here
//
<% dflt_values = Hash.new %>
<% dflt_values = node[:bind9][:logdflt] %>

logging {
	<% node[:bind9][:log].each do |category,value| %>
		<%  key = Hash.new %>
		<% key = dflt_values.merge(value) %>
		channel <%= key['channel'] %> {
			file "<%= "#{node['bind9']['loglocation']}#{key['logfile']}" %>"  <%= key['version']%>;
			<% key.delete('channel'); key.delete('version'); key.delete('logfile'); key.delete('categorychannle') %>
			<% key.each do |k,v| %>
			 <%= k %> <%= v %>;
			 <% end %>
		};
	<% end %>

	<% node[:bind9][:log].each do |category,value| %>
		category "<%= category %>" {<%= value['categorychannle'].nil? ? value['channel'] : value['categorychannle']%>;};
	<% end %>


};
